# Surface Anomaly Detection System (ν‘λ©΄ μ΄μƒ νƒμ§€ μ‹μ¤ν…)

## ν”„λ΅μ νΈ κ°μ”
μ΄ ν”„λ΅μ νΈλ” λ”¥λ¬λ‹(Anomalib PatchCore)μ„ ν™μ©ν• ν‘λ©΄ κ²°ν•¨ νƒμ§€ μ‹μ¤ν…μ…λ‹λ‹¤.
GPU(μ: RTX 4060) ν™κ²½μ—μ„ μµμ ν™”λμ–΄ μμΌλ©°, μ†λ‰μ μ •μƒ μ΄λ―Έμ§€λ§μΌλ΅λ„ μ΄μƒ μ§•ν›„λ¥Ό ν•™μµν•κ³  νƒμ§€ν•  μ μμµλ‹λ‹¤.

## π€ λΉ λ¥Έ μ‹μ‘ (Quick Start)

### 1. ν™κ²½ μ„¤μ • (Environment Setup)
`REQUIREMENTS.md`λ¥Ό μ°Έκ³ ν•μ—¬ ν•„μ ν¨ν‚¤μ§€λ¥Ό μ„¤μΉν•μ„Έμ”.
```bash
python -m venv venv
.\venv\Scripts\activate
pip install -r requirements.txt
```

### 2. λ°μ΄ν„° μ¤€λΉ„ (Data Preparation)
μ•½ 50μ¥μ "μ •μƒ(Good)" ν‘λ©΄ μ΄λ―Έμ§€(ν•„λ¦„, μ§λ¬Ό, μ½”ν… λ“±)κ°€ ν•„μ”ν•©λ‹λ‹¤.

**λ°©λ²• A: μ‚¬μ©μ λ°μ΄ν„° μ‚¬μ©**
1. `datasets/raw_images` ν΄λ”λ¥Ό μƒμ„±ν•©λ‹λ‹¤.
2. μ¤€λΉ„ν• μ •μƒ μ΄λ―Έμ§€ 50μ¥μ„ ν•΄λ‹Ή ν΄λ”μ— λ„£μµλ‹λ‹¤.
3. λ°μ΄ν„° μ¤€λΉ„ μ¤ν¬λ¦½νΈλ¥Ό μ‹¤ν–‰ν•©λ‹λ‹¤:
   ```bash
   python prepare_data.py
   ```

**λ°©λ²• B: μƒν” λ°μ΄ν„° μλ™ λ‹¤μ΄λ΅λ“ (KolektorSDD)**
μ΄λ―Έμ§€κ°€ μ—†λ‹¤λ©΄ μ•„λ λ…λ Ήμ–΄λ΅ μƒν” λ°μ΄ν„°λ¥Ό λ‹¤μ΄λ΅λ“ν•  μ μμµλ‹λ‹¤:
```bash
python prepare_data.py --download
```
*μ¤ν¬λ¦½νΈκ°€ μλ™μΌλ΅ λ°μ΄ν„°λ¥Ό λ‹¤μ΄λ΅λ“ν•κ³  `train/good` λ° `test/good`μΌλ΅ λ¶„λ¥ν•©λ‹λ‹¤.*

4. (μ„ νƒ μ‚¬ν•­) κ²°ν•¨ μ΄λ―Έμ§€κ°€ μλ‹¤λ©΄ `datasets/custom/test/bad` ν΄λ”μ— μ§μ ‘ λ„£μ–΄ ν…μ¤νΈν•  μ μμµλ‹λ‹¤.

### 3. ν•™μµ (Training)
ν•™μµ μ¤ν¬λ¦½νΈλ¥Ό μ‹¤ν–‰ν•©λ‹λ‹¤. μ„¤μ • νμΌμ€ `configs/surface_config.yaml`μ„ μ‚¬μ©ν•©λ‹λ‹¤.
```bash
python train.py
```
*RTX 4060 κΈ°μ¤€, ν•™μµμ€ 1~2λ¶„ λ‚΄μ™Έλ΅ μ™„λ£λ©λ‹λ‹¤.*
ν•™μµλ λ¨λΈκ³Ό κ²°κ³Όλ¬Όμ€ `results/` ν΄λ”μ— μ €μ¥λ©λ‹λ‹¤.

### 4. λ°λ¨ μ‹¤ν–‰ (Web UI)
Streamlit μ›Ή μΈν„°νμ΄μ¤λ¥Ό ν†µν•΄ κ²°κ³Όλ¥Ό μ‹κ°μ μΌλ΅ ν™•μΈν•  μ μμµλ‹λ‹¤.
```bash
streamlit run app.py
```
λΈλΌμ°μ €μ—μ„ `http://localhost:8501`λ΅ μ ‘μ†ν•μ„Έμ”.

## π“‚ ν΄λ” κµ¬μ΅° (Directory Structure)
- `datasets/`: λ°μ΄ν„° μ €μ¥μ†
- `configs/`: λ¨λΈ μ„¤μ • νμΌ (ν•μ΄νΌνλΌλ―Έν„° λ“±)
- `results/`: ν•™μµ κ²°κ³Ό λ° λ¨λΈ(`.ckpt`) μ €μ¥ μ„μΉ
- `train.py`: ν•™μµ μ‹¤ν–‰ μ¤ν¬λ¦½νΈ
- `app.py`: Streamlit μ›Ή λ°λ¨ μ•±
